---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import ArticleHeader from './ui/ArticleHeader.astro';

export interface Props {
	entry: CollectionEntry<'blog'>;
}

const { entry } = Astro.props;
const { title, pubDate, heroImage, tags } = entry.data;
const { id } = entry;
---

<article class="flex flex-row gap-9 w-full h-24">
	<ArticleHeader id={id} pubDate={pubDate} tags={tags} title={title} />
	{heroImage && (
		<div class="flex-shrink-0 h-full">
			<a href={`/blog/${id}`} class="block w-full h-full">
				<div class="w-24 h-24 md:w-40 md:h-24 rounded-xl overflow-hidden" transition:name={`hero-image-${id}`}>
					<Image
						src={heroImage as any}
						alt={title}
						width={160}
						height={96}
						class="w-full h-full object-cover"
					/>
				</div>
			</a>
		</div>
	)}
</article>

