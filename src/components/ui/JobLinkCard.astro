---
import { getOgData } from '../../utils/getOgData';

export interface Props {
	url: string;
	title: string;
	description: string;
}

const { url, title, description } = Astro.props;

const ogData = await getOgData(url);
const ogImageUrl = ogData.image;
---

<div class="flex flex-row justify-stretch items-stretch w-full rounded-xl h-24 bg-app-bg">
  <div class="flex flex-col self-stretch p-6 flex-1 justify-between min-w-0">
      <h2 class="text-base font-bold text-app-text truncate">
        <a href={url} target="_blank" rel="noopener noreferrer">{title}</a>
      </h2>
      <span class="text-xs font-medium text-app-text-subtle">
		{description}
      </span>
  </div>
  {ogImageUrl && (
    <div class="flex flex-row justify-end items-center h-full flex-shrink-0">
        <img
          src={ogImageUrl}
          alt={title}
          class="w-24 h-24 md:w-[168px] md:h-24 rounded-r-xl object-cover"
        />
    </div>
  )}
</div>

